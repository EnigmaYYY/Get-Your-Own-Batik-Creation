<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>获取你的专属蜡染文创 </title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header style="background: #22345a; color: #fff; padding: 32px 0 24px 0; border-radius: 0 0 24px 24px; box-shadow: 0 2px 10px rgba(34,52,90,0.10);">
            <div class="container" style="max-width: 1100px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between;">
                <div style="font-size: 2.8rem; font-weight: bold; letter-spacing: 3px;">获取你的专属蜡染文创</div>
                <div>
                  <div style="font-size: 0.98rem; font-weight: 400; color: #e3eafc; opacity: 0.85; text-align: right;">
                    一键定制你的专属蜡染艺术产品，体验非遗之美！
                  </div>
                  <div style="display: flex; align-items: center; justify-content: flex-end; gap: 10px; margin-top: 6px;">
                    <span style="color: #e3eafc; opacity: 0.95;">（不知道什么是蜡染？）</span>
                    <button type="button" onclick="window.open('蜡染文化介绍html/page1.html', '_blank')" class="main-btn batik-culture-btn white-btn" style="background: #fff; color: #22345a; font-size: 15px; padding: 6px 18px; margin: 0;">了解蜡染</button>
                  </div>
                </div>
            </div>
        </header>

        <main>
            <section class="input-section" style="background: #f8fafc; border-radius: 24px; box-shadow: 0 4px 24px rgba(34,52,90,0.08); padding: 48px 36px 36px 36px; max-width: 1100px; margin: 48px auto 36px auto;">
                <div class="element-selection">
                    <h2 style="color: #22345a; font-size: 1.35rem; margin-bottom: 18px;">选择蜡染元素</h2>
                    <div class="batik-group-row" style="display: flex; gap: 40px; margin-bottom: 0;">
                        <div style="flex:1; min-width: 0;">
                            <div class="batik-group">
                                <div class="batik-group-title">自然崇拜类</div>
                                <div class="checkbox-grid">
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="蝴蝶纹"> 蝴蝶纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="枫叶纹"> 枫叶纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="太阳纹"> 太阳纹</label>
                                </div>
                            </div>
                            <div class="batik-group">
                                <div class="batik-group-title">动物图腾类</div>
                                <div class="checkbox-grid">
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="龙纹"> 龙纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="鱼纹"> 鱼纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="鸟纹"> 鸟纹</label>
                                </div>
                            </div>
                        </div>
                        <div style="flex:1; min-width: 0;">
                            <div class="batik-group">
                                <div class="batik-group-title">几何抽象类</div>
                                <div class="checkbox-grid">
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="螺旋纹"> 螺旋纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="回形纹"> 回形纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="菱形纹"> 菱形纹</label>
                                </div>
                            </div>
                            <div class="batik-group">
                                <div class="batik-group-title">植物花卉类</div>
                                <div class="checkbox-grid">
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="石榴纹"> 石榴纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="蕨菜纹"> 蕨菜纹</label>
                                    <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="checkbox" name="element" value="菊花纹"> 菊花纹</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="height: 1px; background: #dbe4ee; margin: 32px 0 32px 0; width: 100%;"></div>
                <div class="product-custom-row" style="display: flex; gap: 36px; align-items: flex-start; justify-content: center;">
                    <div class="product-selection" style="flex:1; min-width: 0;">
                        <h2 style="color: #22345a; font-size: 1.2rem; margin-bottom: 14px;">选择产品类型</h2>
                        <div class="checkbox-grid" style="grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="radio" name="product" value="帆布包" checked> 帆布包</label>
                            <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="radio" name="product" value="T恤"> 卫衣</label>
                            <label style="border: 1.5px solid #b0c4de; background: #fff; color: #22345a;"><input type="radio" name="product" value="马克杯"> 马克杯</label>
                        </div>
                    </div>
                    <div style="width: 1.5px; background: #dbe4ee; height: 90px; margin: 0 18px;"></div>
                    <div class="text-input" style="flex:1; min-width: 0;">
                        <h2 style="color: #22345a; font-size: 1.1rem; margin-bottom: 10px;">或输入自定义文本</h2>
                        <textarea id="custom-text" placeholder="描述您想要的蜡染图案..." style="border-radius: 10px; border: 1.5px solid #b0c4de; font-size: 16px; padding: 16px; background: #fff; color: #22345a; width: 100%; min-height: 60px;"></textarea>
                    </div>
                </div>
                <button id="generate-btn" style="background: #22345a; color: #fff; border-radius: 10px; font-size: 18px; padding: 16px 44px; margin-top: 32px;">生成图片</button>
            </section>

            <section class="results-section" style="background: #f8fafc; border-radius: 24px; box-shadow: 0 4px 24px rgba(34,52,90,0.08); max-width: 1100px; margin: 0 auto 48px auto; padding: 48px 36px 36px 36px;">
                <h2 style="color: #22345a; font-size: 1.25rem; margin-bottom: 18px;">生成结果</h2>
                <div id="loading" class="hidden">生成中，请稍候...</div>
                <div id="image-gallery" class="image-grid"></div>
            </section>
        </main>

        <!-- 模态窗口，默认隐藏 -->
        <div id="image-modal" class="modal hidden" style="display: none !important;">
            <div class="modal-content" style="width: 1040px;">
                <span class="close-btn" title="关闭">&times;</span>
                <img id="selected-image" src="" alt="Selected batik image">
                <!-- 分析内容将在这里动态插入 -->
                <div id="analysis-placeholder"></div>
                <div id="cultural-context-placeholder"></div>
                <div id="qrcode-container"></div>
                <button id="download-btn" class="main-btn download-btn">下载图片</button>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 获取专属蜡染文创</p>
        </footer>
    </div>

    <!-- 使用更可靠的QRCode库 -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.4/build/qrcode.min.js"></script>
    <script src="volcano_api_server.js"></script>
    <!-- <script src="qrcode-fix.js"></script> -->
    <script src="script.js"></script>
</body>
</html>
